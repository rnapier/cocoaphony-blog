
<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>Cocoaphony</title>
  <meta name="author" content="Rob Napier">

  
  <meta name="description" content="I’ve mentioned that Mugunth Kumar and I have been working on a book, iOS 5 Programming Pushing the Limits. It’s available now for pre-order and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://robnapier.net/page7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Cocoaphony" type="application/atom+xml">
  <link href="https://micro.blog/cocoaphony" rel="me" />
  <link href="https://twitter.com/cocoaphony" rel="me" />
  <link href="https://mastodon.social/@cocoaphony" rel="me" />
  
</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Cocoaphony</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>

<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/talks">Talks</a></li>
  <li><a href="https://cocoaphony.micro.blog">micro.blog</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/the-book-is-almost-here">The Book Is Almost Here</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-12-11T15:09:06-05:00" pubdate data-updated="true">11 Dec 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve mentioned that Mugunth Kumar and I have been working on a book, <a href="http://www.amazon.com/iOS-Programming-Pushing-Limits-Extraordinary/dp/1119961327">iOS 5 Programming Pushing the Limits</a>. It’s available now for pre-order and should be shipping by 12/20. It will be available in several eBook formats, though I don’t have all the details for that yet. I’m proud of what we’ve been able to put together here. The target audience are developers who have some iOS development under their belts, and are ready to move to the next level. Rather than just focus on the nuts and bolts of getting things done, we cover  how to do things well. In the process, we cover a lot of more advanced ground, often of frameworks with “Core” in their names like Core Animation, Core Text, and Core Foundation. We also address practical issues like how to optimize your application for offline work, and how to best handle REST and JSON.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/aes-commoncrypto">Properly Encrypting With AES With CommonCrypto</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-08-11T16:43:34-04:00" pubdate data-updated="true">11 Aug 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Update: You can now download the full example code from my book at <a href="https://github.com/rnapier/ios5ptl/tree/master/ch11/CryptPic/CryptPic">GitHub</a>. This comes from Chapter 11, “Batten the Hatches with Security Services.”</strong></p>

<p><strong>Update2: The things described here are handled automatically by <a href="https://github.com/rnapier/RNCryptor" target="_blank">RNCryptor</a>, which is an easier approach unless you want to write your own solution.</strong></p>

<p>I see a lot of example code out there showing how to use <code class="language-plaintext highlighter-rouge">CCCrypt()</code>, and most of it is unfortunately wrong. Since I just got finished writing about 10 pages of explanation for my upcoming book, I thought I’d post a shortened form here and hopefully help clear things up a little. This is going to be a little bit of a whirlwind, focused on the simplest case. If you want the gory details including performance improvements for large amounts of data, well, <a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-1119961327.html">the book</a> will be out later this year. :D</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/aes-commoncrypto">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/a-pandoraboy-maintainer-emerges">A PandoraBoy Maintainer Emerges</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-08-03T08:54:19-04:00" pubdate data-updated="true">03 Aug 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I went out to <a href="http://trianglecocoa.com/">NSCoder RTP</a> for the first time last night and met up with <a href="http://jsh.in">Josh Johnson</a>, who has been interested in taking up PandoraBoy development. So expect some changes coming up. Probably a move to github. Probably dropping 10.5 support soon. And who knows, it might even really work again.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/pandoraboy-maintainer">Looking for a PandoraBoy Maintainer</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-07-26T19:35:56-04:00" pubdate data-updated="true">26 Jul 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The whole reason I learned Cocoa in the first place was so I could work on <a href="http://code.google.com/p/pandoraboy/">PandoraBoy</a>. It’s a great project, but I haven’t really worked on it in quite some time. As Pandora changes, PandoraBoy becomes more and more broken. I barely have time to look at the patches that have been sent it, let alone apply them. My life has moved onto many other projects.</p>

<p>I’m actively looking for a new maintainer. It’s a good project, and the code base is in decent repair, though I don’t know if it builds with Xcode 4. The system basically works, but there’s a long list of things that could be improved, and some things that are now downright broken. If you’re interested, let me know and I’ll help hand it off. I took it over when I knew next to nothing about Macs. It’s a great place to learn.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/kace-m300">One of the Reasons I Like KACE (the New M300)</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-07-14T15:05:43-04:00" pubdate data-updated="true">14 Jul 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I don’t usually shill for my company’s products, but I’m  really impressed with the new <a href="http://www.kace.com/products/asset-management-appliance/">M300</a> we just put out. It’s an IT management appliance targeted at companies with 50-200 computers. I like how simple it makes setup; reminds me of Apple. Fewer “fiddly-knobs” and more “just works out of the box stop messing with it.” We’ve got the K1000 for those companies who need lots of configuration, but I’m excited to see us get into the SMB space like this. I know most of you don’t need an SMB IT management appliance, but it’s just a pretty cool box and I’m proud to be involved.
</div>
  
  
    <footer>
      <a rel="full-article" href="/kace-m300">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/laying-out-text-with-coretext">Laying Out Text With Core Text</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-05-20T11:09:12-04:00" pubdate data-updated="true">20 May 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’m back in full book-writing mode, now working with <a href="http://mugunthkumar.com/">Mugunth Kumar</a>, who is brilliant. Go check out his stuff. Hopefully we’ll have something published and in all your hands by the end of the year. The book has taken up most of my writing time, so the blog will continue to be a bit quiet, but sometimes I like to answer a Stackoverflow question a bit more fully than I can there.</p>

<p>Today’s question is about <a href="http://stackoverflow.com/questions/6062420/core-text-performance/6062816#6062816">laying out text without <code class="language-plaintext highlighter-rouge">CTFramesetter</code></a>. We’re going to take a whirlwind tour through some CoreText code to demonstrate this. It’s not quite what the OP was asking about, but it shows some techniques and I had it handy. I’ll be writing a whole chapter on Core Text soon.</p>

<p>The goal of this project was to make “pinch” view. It lays out text in a view, and where ever you touch, the text is pinched towards that point. It’s not meant to be really useful. Everything is done in <code class="language-plaintext highlighter-rouge">drawRect:</code>, which is ok in this case, since we only draw when we’re dirty, and when we’re dirty we have to redraw everything anyway. But in many cases, you’d want to do these calculations elsewhere, and only do final drawing in <code class="language-plaintext highlighter-rouge">drawRect:</code>.</p>

<p>We start with some basic view layout, and loop until we run out of text or run out of vertical space in the view.
</div>
  
  
    <footer>
      <a rel="full-article" href="/laying-out-text-with-coretext">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/wrapping-text-around-shape-with-coretext">Wrapping Text Around a Shape With CoreText</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-03-25T12:15:19-04:00" pubdate data-updated="true">25 Mar 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>CoreText is a very powerful system for laying out text in arbitrary ways. This is going to be a bit of a whirlwind tour of it to help out <a href="http://stackoverflow.com/questions/5284516/how-can-i-draw-image-with-text-wrapping-on-ios">nonamelive on StackOverflow</a>.&lt;/a&gt; I’m working on an advanced iOS book right now, and I’ll have a longer writeup there.
</div>
  
  
    <footer>
      <a rel="full-article" href="/wrapping-text-around-shape-with-coretext">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/returning-deep-hack">Returning From the Deep Hack</a></h1>
    
    
      <p class="meta">
        








<time datetime="2011-02-02T23:33:05-05:00" pubdate data-updated="true">02 Feb 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For the last several months, all of my technical time not devoted to my primary employment has been absorbed in a <a href="http://itunes.apple.com/us/app/the-daily/id411516732">little iPad project</a>. Nights and weekends that I usually would spend writing blog posts, chatting on Stackoverflow, or working on PandoraBoy have instead been spent on one of the more interesting projects I’ve worked on. But now it’s front-page on apple.com, soaring up the charts, and I’m rolling onto other things. Top of my list, when not working on an awesome IM/Phone app full time, is starting work on a new iOS book, but close after <em>that</em> are PandoraBoy improvements, Cocoaphony and Stackoverflow. And maybe a little skiing. And there is that go-kart the family has started building. But still, blogging is up there, and I should have a new build of PandoraBoy out in the next week that fixes up some annoying bugs.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/clipping-cgrect-cgpath">Clipping a CGRect to a CGPath</a></h1>
    
    
      <p class="meta">
        








<time datetime="2010-09-09T10:49:07-04:00" pubdate data-updated="true">09 Sep 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’ve been playing with Core Text recently, and one of the things I wanted to do was layout text in an arbitrary CGPath. On Mac, you’d do this with NSLayoutManager, but iOS doesn’t have that so we have to build our own. I’ll discuss Core Text more later, but one of the steps along this problem is how to clip a CGRect to a CGPath. I found several discussions of finding CGPath intersections, all explaining the basic technique. Draw the things you care about into a bitmap context and then inspect the pixels to see where they overlap. Clear enough, but it was hard to find a small code sample that demonstrated this with Core Graphics.</p>

<p>For my purposes, I want the first full-height rectangle within the intersection of the line rectangle and the CGPath. Later I will expand this code to find all full-height rectangles within the intersection (there can be more than one), but this is enough to demonstrate the point.
</div>
  
  
    <footer>
      <a rel="full-article" href="/clipping-cgrect-cgpath">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/pandoras-profile-popup">Pandora's "Profile" Pop-up</a></h1>
    
    
      <p class="meta">
        








<time datetime="2010-08-06T10:14:58-04:00" pubdate data-updated="true">06 Aug 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Several people have noted that PandoraBoy is displaying a “Profile” window over the player that interferes with the player. This is a notification from Pandora because they’ve changed their privacy settings (you can now make your profile private, and they want to know if you want that).</p>

<p>This should be a one-time event for existing accounts. I suspect that new accounts will not see it. The solution is to open www.pandora.com in Safari, answer the question, and then re-launch PB.</p>

<p>PandoraBoy goes directly to the the mini-player on launch. Pandora doesn’t code for that since it’s impossible from the website. So sometimes they make interfaces that are larger than the mini-player without updating the mini-player code to resize. PB doesn’t resize the window (it doesn’t know how large it should be). It just relies on the mini-player to do it in Javascript, but in cases like this, the mini-player also doesn’t know how large the window should be.</p>

<p>BTW, I often am asked why PB doesn’t make the window resizable for cases like this. The answer is that it doesn’t help. The mini-player is a flash app, and has a clipping frame independent of the window. So while you can resize the window, the content is still clipped at the border of the flash app. Ah, the wonders of Flash.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page8">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/page6">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2024 - <a href="mailto:rob@neverwood.org">Rob Napier</a> - <a href="https://twitter.com/cocoaphony">@cocoaphony</a> - 
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  









<!-- Fathom - simple website analytics - https://usefathom.com -->
<script>
(function(f, a, t, h, o, m){
a[h]=a[h]||function(){
    (a[h].q=a[h].q||[]).push(arguments)
};
o=f.createElement('script'),
m=f.getElementsByTagName('script')[0];
o.async=1; o.src=t; o.id='fathom-script';
m.parentNode.insertBefore(o,m)
})(document, window, '//cdn.usefathom.com/tracker.js', 'fathom');
fathom('set', 'siteId', 'MSRAZWIU');
fathom('trackPageview');
</script>
<!-- / Fathom -->




</body>
</html>
